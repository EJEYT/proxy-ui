<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NovaBrowse</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
    --bg: #0b0f1a;
    --panel: #12182b;
    --panel2: #181f3a;
    --accent: #6b7cff;
    --text: #e9ebff;
    --muted: #9aa0ff;
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    height: 100vh;
    background: var(--bg);
    color: var(--text);
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    display: flex;
}

/* Sidebar */
.sidebar {
    width: 200px;
    background: var(--panel);
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.logo {
    font-size: 18px;
    font-weight: 700;
    letter-spacing: 0.5px;
}

.quick {
    background: var(--panel2);
    padding: 10px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 14px;
    transition: background 0.2s;
}
.quick:hover {
    background: #222b55;
}

/* Main */
.main {
    flex: 1;
    display: flex;
    flex-direction: column;
}

/* Top bar */
.topbar {
    background: var(--panel);
    padding: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.topbar button {
    background: var(--panel2);
    border: none;
    color: var(--text);
    padding: 8px 10px;
    border-radius: 8px;
    cursor: pointer;
}

.topbar button:hover {
    background: #222b55;
}

.address {
    flex: 1;
    background: var(--panel2);
    border: none;
    color: var(--text);
    padding: 10px 12px;
    border-radius: 10px;
    font-size: 14px;
}

/* Viewer */
.viewer {
    flex: 1;
    background: black;
}

iframe {
    width: 100%;
    height: 100%;
    border: none;
}
</style>
</head>
<body>

<div class="sidebar">
    <div class="logo">NovaBrowse</div>

    <div class="quick" onclick="go('https://www.google.com')">Google</div>
    <div class="quick" onclick="go('https://www.youtube.com')">YouTube</div>
    <div class="quick" onclick="go('https://en.wikipedia.org')">Wikipedia</div>
    <div class="quick" onclick="go('https://github.com')">GitHub</div>

    <div style="margin-top:auto; font-size:12px; opacity:0.4">
        Frontend Browser UI
    </div>
</div>

<div class="main">
    <div class="topbar">
        <button onclick="reload()">⟳</button>
        <input id="address" class="address" placeholder="https://example.com">
        <button onclick="openNew()">↗</button>
    </div>

    <div class="viewer">
        <iframe id="frame"
            sandbox="allow-scripts allow-forms allow-same-origin allow-popups allow-presentation">
        </iframe>
    </div>
</div>

<script>
const frame = document.getElementById("frame");
const address = document.getElementById("address");

function normalize(url) {
    if (!url.startsWith("http")) return "https://" + url;
    return url;
}

function isYouTube(url) {
    return url.includes("youtube.com/watch") || url.includes("youtu.be/");
}

function youtubeEmbed(url) {
    try {
        let id = "";
        if (url.includes("watch")) {
            id = new URL(url).searchParams.get("v");
        } else {
            id = url.split("/").pop();
        }
        return "https://www.youtube.com/embed/" + id;
    } catch {
        return url;
    }
}

function go(url) {
    if (!url) return;
    url = normalize(url);
    address.value = url;

    if (isYouTube(url)) {
        frame.src = youtubeEmbed(url);
    } else {
        frame.src = url;
    }
}

function reload() {
    frame.src = frame.src;
}

function openNew() {
    if (frame.src) window.open(frame.src, "_blank");
}

address.addEventListener("keydown", e => {
    if (e.key === "Enter") go(address.value);
});
</script>

</body>
</html>
